
@{
    Layout = "~/Views/Shared/_LayoutPage.cshtml";
}

@model List<LW_Data.clsUserRecord>


<!-- Start Content-->
<div class="container-fluid">

    <div class="row">

        <div class="col-12">

            <div class="card">
                <div class="card-body">
                    <h4 class="header-title">Users</h4>

                    <a href="@Url.Action("Create", "User")" class="btn btn-success mb-3">+ Add New User</a>

                    <table class="table table-striped table-responsive table-bordered table-hover">
                        <thead>
                            <tr>
                                <th>Last Name</th>
                                <th>First Name</th>
                                <th>Email</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            @using LW_Security

                            @foreach (var record in Model)
                            {
                                <tr data-id="@record.UserID">
                                    <td nowrap>@record.LastName</td>
                                    <td nowrap>@record.FirstName</td>
                                    <td nowrap>@record.EmailAddress</td>
                                    <td>@Html.Raw(clsSecurity.isUserAdmin() ? $"<a href=\"/User/Edit/{record.UserID}\">Edit</a>" : "Edit")</td>
                                </tr>
                             }
                        </tbody>
                    </table>

                </div> <!-- end card-body -->
            </div>  <!-- end card -->

        </div>
        <!-- end col -->

    </div>
</div>






